`데이터베이스(DB, DataBase)` : **일정한 규칙, 혹은 규약을 통해 구조화되어 저장되는 데이터의 모음**

`DBMS(DataBase Management System)` : **데이터베이스를 제어, 관리하는 통합 시스템**

DB 안에 데이터들을 Query를 통해 CRUD 가능

데이터베이스는 실시간 접근과 동시 공유가 가능

### 엔티티

- `엔티티(Entity)`는 사람, 장소, 물건, 사건, 개념 등 여러 개의 속성을 지닌 명사
- `ex) 회원 엔티티 - 이름, 아이디, 주소, 전화번호`

### 릴레이션

- `릴레이션(relation)`은 **데이터베이스에서 정보를 구분하여 저장하는 기본 단위**.
- 엔터티에 관한 데이터를 데이터베이스는 릴레이션 하나에 담아서 관리함
- 릴레이션은 관계형 데이터베이스에서는 **‘테이블’**이라고 하며, NoSQL 데이터베이스에서는 **‘컬렉션’**

### 속성

- `속성(attribute)`은 **릴레이션에서 관리하는 구체적이며 고유한 이름을 갖는 정보**.
- `ex) 차 → 차 넘버, 바퀴 수, 차 색깔, 차종`

### 도메인

- `도메인(domain)`이란 릴레이션에 포함된 각각의 속성들이 가질 수 잇는 값의 집합
- `ex) 성별 → 남, 여`

### 필드와 레코드

- 엔티티, 릴레이션, 속성, 도메인 등으로 데이터베이스에서 **필드**와 **레코드**로 구성된 테이블을 만들 수 있음
- 테이블에 쌓이는 행(row) 단위의 데이터를 **레코드**라고 함
- 레코드 = 튜플

**필드타입**

- **숫자 타입**
    - `TINYINT`(1Byte)
    - `SMALLINT`(2Byte)
    - `INT`(4Byte)
    - `BIGINT`(8Byte)

---

- **날짜 타입**
    - `DATE`
        - 날짜 부분만 있고 시간은 없음
        - 3Byte
    - `DATETIME`
        - 날짜 및 시간
        - 8Byte
    - `TIMESTAMP`
        - 날짜 및 시간 부분을 모두 포함하는 값
        - 4바이트 용량

---

- **문자 타입**
    - `CHAR과 VARCHAR`
        - `CHAR`
            - **고정 길이 문자열** 테이블을 생성할 때 선언한 길이로 고정되며 길이는 0에서 255 사이의 값을 가짐
            - 레코드를 저장할 때 무조건 선언한 길이 값으로 **고정**해서 저장
        - `VARCHAR`
            - **가변 길이 문자열**. 길이는 0에서 65,535 사이의 값으로 지정할 수 있음
            - 입력된 데이터에 따라 용량을 가변시켜 저장
            - ex) 10글자의 이메일을 저장할 경우 10글자에 해당하는 바이트 + 길이기록용 1바이트로 저장
    
    > CHAR의 경우 검색에 유리, 검색을 별로하지 않고 유동적인 길이를 가진 데이터는 VARCHAR로 저장하는 것이 좋음
    > 
    
    ---
    
    - `TEXT와 BLOB` : 큰 데이터를 저장할 때 쓰는 타입
        - `TEXT` : 큰 문자열 저장에 쓰며 주로 게시판 본문을 저장할 때 사용
        - `BLOB`
            - 이미지, 동영상 등 큰 데이터 저장에 사용
            - 보통은 S3를 이용하고 파일에 관한 경로를 VARCHAR로 저장
    
    ---
    
    - `ENUM과 SET`
        
        문자열을 열거한 타입
        
        - `ENUM`
            - ENUM(’x-small’, ‘small’, ‘medium’, ‘large’, ‘x-large’) 형태로 쓰임
            - 이 중에서 하나만 선택하는 단일 선택만 가능
            - ENUM 리스트에 없는 잘못된 값을 삽입하면 빈 문자열이 대신 삽입됨
            - ENUM을 이용하면 x-small 등이 0, 1 등으로 매핑되어 메모리를 적게 사용하는 이점을 얻을 수 있음
            - ENUM은 최대 65,535개의 요소들을 넣을 수 있음
        - `SET`
            - ENUM과 비슷하지만 여러 개의 데이터를 선택할 수 있음
            - 비트 단위의 연산을 할 수 있음
            - 최대 64개의 요소를 집어놓을 수 있음

---

## 관계

> 데이터베이스에 여러 테이블은 서로 관계가 정의 되어있음
이러한 관계를 **관계화살표**로 나타냄
> 

### 1:1 관계

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9192f43c-dc82-44fb-8735-73705b9d3978/Untitled.png)

### 1:N 관계

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/af8dd363-eefd-4a41-a5a6-357c34945854/Untitled.png)

### N:M 관계

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e3c503e7-362d-4025-ae65-99b493d5518d/Untitled.png)

다대다 관계는 대체로 중계테이블을 두어 관리

ex) 학원 → 학원_학생_중계테이블 ← 학생

## 키

- 테이블 간의 관계를 조금 더 명확하게 하고 테이블 자체의 인덱스를 위해 설정된 장치
- 기본키, 외래키, 후보키, 슈퍼키, 대체키
- 슈퍼키는 유일성이 있고 그 안에 포함된 후보키는 최소성까지 갖춘 키이다
- 후보키 중에서 기본키로 선택되지 못한 키는 대체키가 됨
- `유일성` : 중복되는 값이 없음
- `최소성` : 필드를 조합하지 않고 최소 필드만 써서 키를 형성할 수 있는 것

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/29453cc6-c033-47b6-b618-d670c5534377/Untitled.png)

**기본키**

`기본키(Primary Key)` 

- PK 또는 프라이머리키라고 많이 부름
- `유일성`과 `최소성`을 만족하는 키
- 테이블의 데이터 중 고유하게 존재하는 속성이며 기본키에 해당하는 데이터는 중복되어선 안됨

---

`자연키`

- 테이블에서 중복된 값들을 제외하고 중복되지 않는 것을 뽑다가 나오는 키
- 자연키는 언젠가는 변하는 속성을 가짐

---

`인조키`

- **인위적으로 생성해낸 키**
- 오라클은 sequence, MySQL은 auto increament 등 으로 설정
- 자연키와 다르게 변하지 않음
- **보통 인조키를 기본키로 설정**

---

**외래키**

`외래키(Foreign key)`

- **FK** 라고도 함
- **다른 테이블의 기본키**를 그대로 참조하는 값
- 개체의 관계를 식별하는 데 사용함
- 외래키는 중복 허용

---

**후보키**

`후보키(candidate key)` : 기본키가 될 수 있는 후보들이며 유일성과 최소성을 동시에 만족하는 키

---

**대체키**

`대체키(alternate key)` : 후보키가 두 개 이상일 경우 어느 하나를 기본키로 지정하고 남은 후보키들을 말함

---

**슈퍼키**

`슈퍼키(super key)` : 각 레코드를 유일하게 식별할 수 잇는 유일성을 갖춘 키

## ERD와 정규화

`ERD(Entity Relationship Diagram)` 

- 데이터베이스를 구축할 때 가장 기초적인 뼈대 역할
- **릴레이션 간의 관계들을 정의한 것**

### ERD의 중요성

> ERD는 시스템의 요구 사항을 기반으로 작성되며 ERD를 기반으로 데이터베이스를 구축함
ERD는 관계형 구조로 표현할 수 있는 데이터를 구성하는 데 유용할 수 있지만 **비정형 데이터를 충분히 표현할 수 없는 단점이 있음**
>